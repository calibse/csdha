/* _main.scss */

.main-body {
	margin: 0;
}

.main-body.index {
    .main-content-header .content-block,
    .main-content .content-block {
        margin: unset;
    }
}

.main-brand {
    text-decoration: none;
    padding: 0 1rem;
    margin: .75rem 0;
    display: block;
    text-align: center;

    .name {
        display: inline-block;
        font-family: Oxanium;
        font-size: 1.5rem;
        font-weight: 600;
        vertical-align: middle;
        color: var(--color-2);
    }

    .logo {
        vertical-align: middle;
        display: inline-block;
        height: 2rem;

        img {
            height: 100%;
            display: block;
        }

    }
}

.main-header-info {
    background-repeat: no-repeat;
    background-size: cover;

    .account {
        color: #ffffff;
        padding: 0 1rem;

        .main-action {
            text-align: right;
        }

        .info {
            display: flex;
            gap: 1rem;

            .avatar {
                flex: 0 0 auto;
                width: 3.5rem;
                height: 3.5rem;
                clip-path: circle(50%);
                margin: 1rem 0;

                svg, img {
                    display: block;
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }
            }

            .details > * {
                margin: 1rem 0;
            }
        }
    }
}

.main-header-menu {
    padding: 0 1rem;

    ul {
        list-style: none;
        padding: 0;
    }

    li {
        margin: 1rem 0;
    }

    a {
        white-space: nowrap;
        text-decoration: none;
        color: inherit;
        width: max-content;
        display: flex;
        align-items: center;
    }
}

#menu.main-header {
	background-color: var(--color-4);
	padding-bottom: 1rem;
	color: #ffffff;
	overflow: auto;
	position: fixed;
	top: 0;
	left: 0;
	display: block;
	height: 100vh;
	z-index: 1;
	width: var(--sidebar-width);
	visibility: hidden;

	&:target {
		visibility: visible;
	}

}

.close-menu-button {
    position: fixed;
    top: 0;
    left: var(--sidebar-width);
    border: 0;
    background-color: transparent;
    height: 100vh;
    width: calc(100vw - var(--sidebar-width));

    .text {
        width: 1px;
        height: 1px;
        overflow: hidden;
        display: inline-block;
    }
}

.main-main {
	background-color: var(--color-4);
}

.main-content-header {
	color: var(--bg-color);

	.nav-actions {
		display: inline-block;
        margin: 0;
	}

	.content-block {
		padding: 1rem 0;
		max-width: var(--page-width);
		margin: 0 auto;
		white-space: nowrap;
		padding-left: var(--page-padding);
		padding-right: var(--page-padding);
	}

	.title {
		margin: 0;
		display: inline-block;
		vertical-align: middle;
		width: 80%;
		text-overflow: ellipsis;
		overflow: hidden;
		font-size: 1.2rem;
	}
}

.main-menu-button,
.main-back-link {
    margin-right: 1rem;
    border: 0;
    background-color: transparent;
    padding: 0;
    color: inherit;
    text-decoration: none;
    display: inline-block;

    .text {
        position: absolute;
        overflow: hidden;
        width: 1px;
        height: 1px;
        display: inline-block;
    }

    &:hover, &:focus {
        color: var(--color-1);
    }
}

.main-content {
	background-color: var(--bg-color);
	padding-top: .01rem;

	.content-block {
		height: calc(100vh - var(--header-height));
		overflow: auto;
	}

	.article {
		padding: .01rem var(--page-padding);
		max-width: var(--page-width);
		margin: 0 auto;
		padding-top: .01rem;
	}

	&.index {
        .main-toolbar,
        .content-block > * {
            margin-left: 0;
            margin-right: 0;
        }
	}

    /*
	.main-actions {
		background-color: var(--base-color-0);;
		padding: 0 var(--page-padding);;
		border-bottom: solid .05rem var(--line-color);
		max-width: var(--page-width);
		margin: 0 auto;

		~ .content-block {
			height: calc(100vh - var(--header-height) - 2.2rem);
		}
	}
    */

	.main-toolbar ~ .content-block {
        height: calc(100vh - var(--header-height) - 2.2rem);
	}

	&.form {
		background-color: var(--base-color-0);
	}
}

.main-toolbar {
    white-space: nowrap;
    overflow: auto;
    padding: unset;
    background-color: var(--base-color-1);
    background-image: linear-gradient(to bottom, #d3d3d3, #cccccc);
    padding: 0 var(--page-padding);
    border-bottom: solid .05rem var(--line-color);
    max-width: calc(var(--page-width) - (var(--page-padding) * 2));

	a, button {
		display: inline-block;
		white-space: nowrap;
		margin: .3rem 0;
		display: inline-block;
		margin-right: 1rem;
		background-color: transparent;
		border: 0;
		text-decoration: none;
		color: inherit;
		width: max-content;
	}

	:last-child {
		margin-right: unset;
	}

	a:not([href]) {
		color: var(--base-color-3);

		&:hover .text, &:focus .text {
			text-decoration: none;
		}
	}

}

.main-action {
	margin: .5rem 0;

	a, button {
        color: inherit;
		border: 0;
		text-decoration: none;
	}
}

.message {
	margin: 0 auto;
	max-width: var(--page-width);
	padding: 0 1rem;
}

@media (min-width: 48rem) {
	.main-body.index {
        display: flex;
        flex-wrap: nowrap;

        .main-content-header .nav-actions {
            visibility: hidden;
            width: 0;
        }
	}

	#menu.main-header {
		border-right: 0;
		border-radius: 0;
		flex: 1 0 var(--sidebar-width);
		width: unset;
		position: unset;
		overflow: unset;
		visibility: visible;

		.content-block {
			float: right;
			width: var(--sidebar-width);
			max-width: var(--sidebar-width);
			height: 100vh;
			overflow: auto;
		}

		.close-menu-button {
			visibility: hidden;
		}
	}

	.main-content {
		.main-toolbar ~ .content-block {
            height: calc(100vh - var(--header-height) - 2.51rem);
		}

		.content-block {
			height: calc(100vh - var(--header-height));
		}

		&.index {
			border-top-left-radius: .3rem;

			.main-toolbar {
                margin-left: .3rem;
                margin-right: .3rem;
			}
		}
	}

	.main-toolbar {
        border-radius: .3rem;
        border: solid .05rem var(--line-color);
        border-bottom: solid .05rem #777777;
        margin: .3rem auto;
        margin-bottom: 0;
	}

	.main-main {
		flex: 1 1 var(--page-width);
		min-width: 0;
	}
}
